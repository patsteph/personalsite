(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{6419:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var a=i(7876),s=i(4232),n=i(8182),r=i(6042);function o(){var e;let[t,i]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[d,c]=(0,s.useState)([]),[u,m]=(0,s.useState)("idle"),[g,h]=(0,s.useState)(!1),[x,b]=(0,s.useState)(null),p=e=>{let t=new Date().toISOString();c(i=>[...i,"".concat(t,": ").concat(e)])};(0,s.useEffect)(()=>{p("Page loaded");{let e=window.runtimeConfig;b(e),e&&e.firebase?p("Runtime config found"):p("Runtime config NOT found or missing Firebase config")}},[]);let f=async e=>{if(e.preventDefault(),!t||!o){p("Email or password is empty");return}try{p("Attempting direct login with email: ".concat(t)),m("authenticating");let e=(0,n.xI)();p("Got auth instance");let i=await (0,n.x9)(e,t,o);p("Sign in successful"),p("User ID: ".concat(i.user.uid)),m("authenticated"),sessionStorage.setItem("auth_success","true"),sessionStorage.setItem("auth_timestamp",new Date().toISOString()),p("Authentication data stored in session storage")}catch(e){p("Authentication error: ".concat(e.message)),m("auth-error")}};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Debug Page"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-3",children:["Status: ",u]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{onClick:()=>{try{if(p("Initializing Firebase directly..."),m("initializing"),!x||!x.firebase)throw Error("No Firebase config available");let e={apiKey:"AIzaSyD4a8iaxHP9xPGV5tR5LwvzDVa5Y9o5wGQ",authDomain:"personalsite-19189.firebaseapp.com",projectId:"personalsite-19189",storageBucket:"personalsite-19189.firebasestorage.app",messagingSenderId:"892517360036",appId:"1:892517360036:web:36dda234d9f3f79562e131"};p("Using Firebase config with API key: ".concat(e.apiKey.substring(0,5),"...")),(0,r.Wp)(e),p("Firebase app initialized successfully"),h(!0),m("initialized")}catch(e){p("Error initializing Firebase: ".concat(e.message)),m("error")}},disabled:g,className:"px-4 py-2 rounded ".concat(g?"bg-gray-300":"bg-blue-500 text-white"),children:g?"Firebase Initialized":"Initialize Firebase"})}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:t,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:"authenticating"===u||!g,className:"w-full px-4 py-2 rounded ".concat("authenticating"!==u&&g?"bg-green-500 text-white":"bg-gray-300"),children:"authenticating"===u?"Authenticating...":"Test Direct Login"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Environment Info:"}),(0,a.jsx)("pre",{className:"bg-gray-100 p-3 rounded text-xs mt-2",children:JSON.stringify({url:window.location.href,userAgent:window.navigator.userAgent,runtimeConfig:!!window.runtimeConfig,basePath:(null===(e=window.runtimeConfig)||void 0===e?void 0:e.basePath)||"not set"},null,2)})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Runtime Config:"}),(0,a.jsx)("pre",{className:"bg-gray-100 p-3 rounded text-xs mt-2 max-h-60 overflow-auto",children:JSON.stringify(x,null,2)})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Debug Logs"}),(0,a.jsx)("div",{className:"bg-black text-green-400 p-3 rounded h-96 overflow-auto font-mono text-xs",children:d.map((e,t)=>(0,a.jsx)("div",{children:e},t))})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Actions"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/personalsite/admin",className:"px-4 py-2 bg-purple-500 text-white rounded",children:"Go to Admin"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/personalsite/admin/login",className:"px-4 py-2 bg-indigo-500 text-white rounded",children:"Go to Login"}),(0,a.jsx)("button",{onClick:()=>{sessionStorage.clear(),localStorage.clear(),p("Session and local storage cleared")},className:"px-4 py-2 bg-red-500 text-white rounded",children:"Clear Storage"})]})]})]})}},6428:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return i(6419)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6428)),_N_E=e.O()}]);